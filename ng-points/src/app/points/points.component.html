
<h3>List of Points of Interest</h3>


<table>
    <tr>
      <form name="filter-form" #filterForm="ngForm">
      <td><label>
          <select [(ngModel)] = "choixColonne" name="choixColonne">
            <option [ngValue]="'nom'">Name</option>
            <option [ngValue]="'address'">Address</option>
            <option [ngValue]="'description'">Description</option>
            <option [ngValue]="'categorie'">Category</option>
            <option [ngValue]="'user'">Writer</option>
          </select>
        </label></td>

        <td *ngIf="choixColonne==='user'">
          <label>Writer :
            <select [(ngModel)] = "motClef" name="motClef">
              <option *ngFor="let user of getUsers()" [ngValue]="user.login">{{user.login}}</option>
            </select>
          </label>
        </td>

        <td *ngIf="choixColonne==='categorie'">
          <label>Category :
            <select [(ngModel)] = "motClef" name="motClef">
              <option *ngFor="let categorie of getCategories()" [ngValue]="categorie.nom">{{categorie.nom}}</option>
            </select>
          </label>
        </td>

    <td  *ngIf="choixColonne!=='categorie' && choixColonne!=='user'"><label>Mot(s) clef : <input type="text" [(ngModel)] = "motClef" name="motClef"></label></td>
    <td><button type="button" (click) = "filterList()">filtrer</button></td>
      </form>
    </tr>
</table>

  <table>

  <tr>
    <td>NAME</td><td>CATEGORY</td><td>LATITUDE</td><td>LONGITUDE</td><td>ADDRESS</td><td>DESCRIPTION</td><td>WRITER</td><td></td>
  </tr>


  <tr  *ngFor="let point of getPoints();">
    <td>      {{point.nom}}</td>
    <td>      {{point.categorie?.nom}}</td>
    <td>      {{point.latitude}}</td>
    <td>      {{point.longitude}}</td>
    <td>      {{point.address}}</td>
    <td>      {{point.description}}</td>
    <td>      {{point.user?.login}}</td>
    <td>      <app-selectedpoint [pointSelected]="point" (removePoint)="updateListRemove($event)"></app-selectedpoint></td>
  </tr>

</table>

<app-map (updatePointMap)="initPointMap()" [pointsFromPointsComponent]="getPoints()"></app-map>
<app-point-form (createPointEvent)="updateList($event)"> </app-point-form>
